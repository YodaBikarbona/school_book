<!--  jQuery -->
<!--script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script-->

<!-- Isolated Version of Bootstrap, not needed if your site already uses Bootstrap -->
<!--link rel="stylesheet" href="https://formden.com/static/cdn/bootstrap-iso.css" /-->

<!-- Bootstrap Date-Picker Plugin -->
<!--script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css"/>


<link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/animate.css@3.5.2/animate.min.css"-->




<style type="text/css">
#profile_image{
    -webkit-box-shadow: -1px -1px 18px -2px rgba(0,0,0,0.75);
    -moz-box-shadow: -1px -1px 18px -2px rgba(0,0,0,0.75);
    box-shadow: -1px -1px 18px -2px rgba(0,0,0,0.75);
}

#shadow{
    -webkit-box-shadow: 3px -1px 33px 0px rgba(0,0,0,0.6);
    -moz-box-shadow: 3px -1px 33px 0px rgba(0,0,0,0.6);
    box-shadow: 3px -1px 33px 0px rgba(0,0,0,0.6);
}

.not-focusable:focus {
    outline: none;
    box-shadow: none;
}
</style>

<div class="container-fluid">
    <div class="row bg-dark">
        <div class="col-md-2">
            <p style="color: white">School Book v1.0</p>
        </div>
        <div class="col-md-10" style="padding-right: 0">
            <button type="button" class="btn btn-secondary rounded-0 btn-sm not-focusable" style="float: right;" 
            ng-click="logout()">
                <i class="fa fa-sign-out"></i>Loggout
            </button>
        </div>
    </div>
    <div class="row" style="height: 700px;">
        <div class="col-md-2 bg-dark" style="padding: 0">
            <div class="list-group" style="margin: 0; padding: 0; border-radius: 0px">
                <button type="button" class="list-group-item list-group-item-action rounded-0" ng-click="show_profile()">
                    <div class="row">
                        <div class="col-md-4" style="text-align: right; padding: 0">
                            <i class="fa fa-user"></i>
                        </div>
                        <div class="col-md-8" style="text-align: left;">
                            Profile
                        </div>
                    </div>
                </button>
                <button type="button" class="list-group-item list-group-item-action rounded-0" ng-click="show_classes()">
                    <div class="row">
                        <div class="col-md-4" style="text-align: right; padding: 0">
                            <i class="fa fa-address-book-o"></i>
                        </div>
                        <div class="col-md-8" style="text-align: left;">
                            Classes
                        </div>
                    </div>
                </button>
            </div>
        </div>
        <!-- Profile panel -->
        <div class="col-md-10" ng-show="show_tab == 1" style="height: 700px; overflow-y: scroll">
            <div class="row" style="padding-top: 10px">
                <div class="col-md-12" >
                    <div class="panel panel-info">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-md-3 col-lg-3">
                                    <!--img src="http://cdn.osxdaily.com/wp-content/uploads/2014/07/users-and-groups-icon-mac.png" alt="Responsive image" class="img-thumbnail"-->
                                    <!--img src="http://localhost:8080/school_book/static/uploads/07JUNESIX-slide-875K-master1050.jpg" alt="Responsive image" class="img-thumbnail"-->
                                    <img src="http://localhost:8080/school_book/api/uploads/{{user_obj.image.file_name}}" alt="Responsive image" class="img-thumbnail">
                                </div>
                                <div class=" col-md-9 col-lg-9"> 
                                    <table class="table table-user-information table-striped">
                                        <tbody>
                                            <tr>
                                                <td>First name:</td>
                                                <td>{{user_obj.first_name}}</td>
                                            </tr>
                                            <tr>
                                                <td>Last name:</td>
                                                <td>{{user_obj.last_name}}</td>
                                            </tr>
                                            <tr>
                                                <td>Date of Birth:</td>
                                                <td>{{user_obj.birth_date}}</td>
                                            </tr>
                                            <tr>
                                                <td>Age</td>
                                                <td>{{user_obj.age}}</td>
                                            </tr>
                                            <tr>
                                                <td>Gender:</td>
                                                <td ng-if="user_obj.gender==0">Male</td>
                                                <td ng-if="user_obj.gender==1">Female</td>
                                            </tr>
                                            <tr>
                                                <td>Role:</td>
                                                <td>{{user_obj.role.role_name}}</td>
                                            </tr>
                                            <tr>
                                                <td ng-if="user_obj.email">Email:</td>
                                                <td ng-if="!user_obj.email">ID:</td>
                                                <td ng-if="user_obj.email">{{user_obj.email}}</td>
                                                <td ng-if='!user_obj.email'>{{user_obj.unique_ID}}</td>
                                            </tr>
                                                <td>Phone Number:</td>
                                                <td>{{user_obj.phone}}
                                                    <!--123-4567-890(Landline)<br><br>555-4567-890(Mobile)-->
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>City:</td>
                                                <td>{{user_obj.city}}</td>
                                            </tr>
                                            <tr>
                                                <td>Address:</td>
                                                <td>{{user_obj.address}}</td>
                                            </tr>
                                            <tr ng-if="user_obj.parent_one!=null">
                                                <td>Parent one:</td>
                                                <td>{{user_obj.parent_one}}</td>
                                            </tr>
                                            <tr ng-if="user_obj.parent_two!=null">
                                                <td>Parent two:</td>
                                                <td>{{user_obj.parent_two}}</td>
                                            </tr>
                                            <tr>
                                                <td>Created:</td>
                                                <td>{{user_obj.created}}</td>
                                            </tr>
                                            <tr>
                                                <td>First login:</td>
                                                <td>{{user_obj.first_login}}</td>
                                            </tr>
                                            <tr>
                                                <td>Last login:</td>
                                                <td>{{user_obj.last_login}}</td>
                                            </tr>
                                            <tr>
                                                <td>Profile status:</td>
                                                <td ng-if="user_obj.activated">Activated</td>
                                                <td ng-if="!user_obj.activated">Deactivated</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" data-toggle="modal" data-target="#changePasswordModal">Change password</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End of profile panel -->
        <!-- Classes panel -->
        <div class="col-md-10" ng-show="show_tab == 3" style="height: 700px; overflow-y: scroll">
            <div class="row" style="padding-top: 10px">
                <div class="col-md-12" >
                    <div class="panel panel-info">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-md-12 col-sm-12">
                                    <form ng-submit="find_by_school_year_id(school_year_id)" class="form-inline">
                                        <div style="padding: 1px" ng-show="school_year_list_lenght">
                                            <select class="form-control-sm" ng-model="school_year_id">
                                                <option ng-repeat="school_year in school_years" value="{{school_year.id}}">
                                                    {{school_year.start}}/{{school_year.end}}
                                                </option>
                                            </select>
                                        </div>
                                        <div style="padding: 1px" ng-show="school_year_list_lenght">
                                            <button type="submit" class="btn btn-secondary btn-sm not-focusable rounded-0">Find</button>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-12" ng-if="school_classes_lenght>0 && show_subtab==0">
                                    <div class="row">
                                        <div class="col-md-4 col-sm-6" style="height: 200px; padding: 1%;" ng-repeat="school_class in school_classes">
                                            <div id="shadow" style="width: 100%; height: 100%; border: 1px solid black; padding-left: 1%;">
                                                <p>Class name:</p>
                                                <p>{{school_class.name}}</p>
                                                <p>Professor:</p>
                                                <p>{{school_class.professor.first_name}} {{school_class.professor.last_name}}</p>
                                                <p>Number of students:</p>
                                                <p>{{school_class.number_of_students}}</p>

                                                <a style="bottom: 5%; position: absolute;" href="" 
                                                ng-click="join_class(school_class.id)">Join class</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12" ng-if="show_subtab==1">
                                    <div id='profile_buttons'>
                                        <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0"
                                        ng-click="show_class()">Students</button>
                                        <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" ng-click="show_miss()">Miss</button>
                                    </div>
                                    <p>{{school_class.id}}</p>
                                    <div class="row" ng-if="showMiss == 1">
                                        <div class="col-md-12">
                                            <div id='profile_buttons'>
                                                <div style="padding: 1px">
                                                    <input name="" placeholder="MM/DD/YYY" type="date" ng-model='date' required 
                                                    class="form-control">       
                                                </div>
                                                <div style="padding: 1px">
                                                        <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" ng-click="show_absences(school_class_id, date)">
                                                        Show absences</button>
                                                </div>
                                                <div style="padding: 1px">
                                                        <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" ng-click="show_add_absence_form()">New absence</button>
                                                </div> 
                                            </div>
                                        </div>
                                        <!--div class="col-md-12" style="margin-bottom: 1%">
                                            <p>{{school_class.name}}</p>
                                            <div style="padding: 1px">
                                                <input name="" placeholder="MM/DD/YYY" type="date" ng-model='date' required 
                                                class="form-control">       
                                            </div>
                                            <div id='profile_buttons'-->
                                                <!--form ng-submit="show_absences(2, date)" class="form-inline"-->
                                                <!--div style="padding: 1px">
                                                    <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" ng-click="show_absences(2, date)">
                                                    Show absences</button>
                                                </div>
                                                <div style="padding: 1px">
                                                    <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" ng-click="show_add_absence_form()">New absence</button>
                                                </div>   
                                                </form>
                                            </div>
                                        </div-->
                                        <div class="col-md-12" ng-if="absencesShow == 1">
                                            <table class="table table-user-information table-striped">
                                                <thead>
                                                    <th>
                                                        Student
                                                    </th>
                                                    <th>
                                                        Date
                                                    </th>
                                                    <th>
                                                        Time
                                                    </th>
                                                    <th>
                                                        Comment
                                                    </th>
                                                    <th>
                                                        Option
                                                    </th>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="absence in absences">
                                                        <td>
                                                            {{absence.student.first_name}} {{absence.student.last_name}}
                                                        </td>
                                                        <td>
                                                            {{absence.date}}
                                                        </td>
                                                        <td>
                                                            {{absence.time}}
                                                        </td>
                                                        <td>
                                                            {{absence.comment}}
                                                        </td>
                                                        <td>
                                                            <div id='profile_buttons'>
                                                                <div style="padding: 1px">
                                                                    <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" ng-if="school_class.professor.id == userID">
                                                                        <i class="fa fa-check" aria-hidden="true"></i>
                                                                    </button>
                                                                    <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" ng-if="school_class.professor.id == userID">
                                                                        <i class="fa fa-close" aria-hidden="true"></i>
                                                                    </button>
                                                                    <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" ng-if="school_class.professor.id != userID" disabled>
                                                                        <i class="fa fa-check" aria-hidden="true"></i>
                                                                    </button>
                                                                    <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" ng-if="school_class.professor.id != userID" disabled>
                                                                        <i class="fa fa-close" aria-hidden="true"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <div style="padding: 1px">
                                                <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0"
                                                ng-click="restart_form()">
                                                Close</button>
                                            </div>
                                        </div>
                                        <div class="col-md-12" ng-if="absencesShow == 2">
                                            <form ng-submit="add_absence(school_class_id, absence_obj)">
                                                <label style="margin-right: 5px">Pick student</label>
                                                <div class="form-group" style="padding: 1px">
                                                    <select class="form-control-sm" ng-model='absence_obj.student_id' required>
                                                        <option ng-repeat="student in class_list.school_class_student_list" value="{{student.id}}">
                                                            {{student.first_name}} {{student.last_name}}
                                                        </option>
                                                    </select>
                                                </div>
                                                <label style="margin-right: 5px">Write comment</label>
                                                <div class="form-group" style="padding: 1px">
                                                    <input type="text" class="form-control" name="" ng-model='absence_obj.comment'>
                                                </div>
                                                <div style="padding: 1px">
                                                    <button type="submit" class="btn btn-secondary btn-sm not-focusable rounded-0">
                                                    Add absences</button>
                                                </div>
                                            </form>
                                            <div style="padding: 1px">
                                                <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0"
                                                ng-click="restart_form()">
                                                Close</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="show_class_details==1">
                                        <div class="col-md-12">
                                            <form ng-submit="show_student(school_class_id, student_id)">
                                                <div class="form-group form-inline" style="padding: 1px">
                                                    <select class="form-control-sm" ng-model='student_id' required>
                                                        <option ng-repeat="student in class_list.school_class_student_list" value="{{student.id}}">
                                                            {{student.first_name}} {{student.last_name}}
                                                        </option>
                                                    </select>
                                                    <button type="submit" class="btn btn-secondary btn-sm not-focusable rounded-0" style="float: right;">Show</button>
                                                </div>
                                            </form>
                                        </div>
                                        <!--pagination total-items="totalItems" ng-model="currentPage" max-size="maxSize" class="pagination-sm" boundary-links="true" rotate="false" num-pages="numPages" items-per-page="itemsPerPage"></pagination-->

                                        <!--pagination data-pagination="" data-num-pages="numOfPages()" 
                                        data-current-page="curPage" data-max-size="maxSize"  
                                        data-boundary-links="true"></pagination-->
                                        <!--pagination 
                                         ng-model="currentPage"
                                          total-items="class_list.school_class_student_list.length"
                                          max-size="maxSize"  
                                          boundary-links="true">
                                        </pagination-->
                                        <!--div data-pagination="" data-num-pages="numPages()" 
                                          data-current-page="currentPage" data-max-size="maxSize"  
                                          data-boundary-links="true"></div-->
                                        <!--pagination total-items="totalItems" ng-model="currentPage" ng-change="pageChanged()" class="pagination-sm" items-per-page="itemsPerPage"></pagination-->
                                        <!--nav aria-label="Page navigation example">
                                            <ul class="pagination">
                                            <li class="page-item">
                                              <a class="page-link" href="#" aria-label="Previous">
                                                <span aria-hidden="true">&laquo;</span>
                                                <span class="sr-only">Previous</span>
                                              </a>
                                            </li>
                                            <li class="page-item"><a class="page-link">1</a></li>
                                            <li class="page-item"><a class="page-link">2</a></li>
                                            <li class="page-item"><a class="page-link">3</a></li>
                                            <li class="page-item">
                                              <a class="page-link" aria-label="Next">
                                                <span aria-hidden="true">&raquo;</span>
                                                <span class="sr-only">Next</span>
                                              </a>
                                            </li>
                                          </ul>
                                        </nav-->


                                        <div class="col-md-12" ng-if="show_student_details == 1">
                                            <div class="col-md-12">
                                                Student: {{student_class_details.student.first_name}} {{student_class_details.student.last_name}}
                                            </div>
                                            <div class="col-md-12">
                                                View profile
                                            </div>
                                            <table class="table table-user-information table-striped">
                                                <tbody>
                                                    <tr ng-repeat="school_subject in student_class_details.school_subjects"><!--class_list.school_class_subject_list"-->
                                                        <td>
                                                            {{school_subject.name}}
                                                        </td>
                                                        <td>
                                                            <a href="" data-toggle="modal" data-target="#readGradesModal" 
                                                            ng-click="show_student_grade(school_subject)">Read grades</a>
                                                        </td>
                                                        <td>
                                                            Average grade: {{school_subject.average_grade}}
                                                        </td>
                                                        <td>
                                                            <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" data-toggle="modal" data-target="#changePasswordModal" ng-if="school_subject.professor_id == userID">Final grade</button>
                                                            <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" data-toggle="modal" data-target="#changePasswordModal" ng-if="school_subject.professor_id != userID" disabled>Final grade</button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <div id='profile_buttons'>
                                                <div style="padding: 1px">
                                                    <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" data-toggle="modal" data-target="#addNewAbsenceModal" ng-click="forward_student_id(student_class_details.student.id)">Add new absence</button>
                                                </div>
                                            </div>

                                            <ul uib-pagination total-items="bigTotalItems" ng-model="bigCurrentPage" max-size="maxSize" class="pagination-sm" boundary-links="true" num-pages="numPages"></ul>
                                            <pre> {{totalItems}}</pre>
                                            <!--div class="row" style="padding-left: 1%" ng-repeat="school_subject in class_list.school_class_subject_list">
                                                <div class="col-md-4 col-sm-12" style="border-bottom: 1px solid black;">{{school_subject.name}}
                                                </div>
                                                <div class="col-md-3 col-sm-12" style="border: 1px solid black;">
                                                    <a style="position: absolute;" href="" 
                                                    ng-click="join_class(school_class.id)">Read grades</a>
                                                </div>
                                                <div class="col-md-3 col-sm-6">
                                                    Average grade:
                                                </div>
                                                <div class="col-md-1 col-sm-12" style="border: 1px solid black;">
                                                    <div id='profile_buttons'>
                                                        <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" data-toggle="modal" data-target="#changePasswordModal">Final grade</button>
                                                    </div>
                                                </div>
                                            </div-->
                                        </div>
                                        <div data-pagination="" data-num-pages="numPages()" 
                                        data-current-page="currentPage" data-max-size="maxSize"  
                                        data-boundary-links="true">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End of classes panel -->
    </div>
</div>
<!-- The Modal absences-->
<div class="modal fade" id="absencesModal">
    <div class="modal-dialog">
        <div class="modal-content rounded-0">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Add new user</h4>
                <button type="button" class="close not-focusable"
                 data-dismiss="modal" ng-click="restart_form()">&times;</button>
             </div>
             <!-- Modal body -->
             <div class="modal-body">
                
                <form ng-submit="addUser(new_user)">
                    <div class="form-group" style="padding: 1px">
                        <label style="margin-right: 5px">Pick role</label>
                        <select class="form-control-sm" ng-model='new_user.role_name'>
                            <option ng-repeat="role in roles" value="{{role.role_name}}">
                                {{role.role_name}}
                            </option>
                        </select>
                    </div>
                    <div class="form-group" style="padding: 1px" ng-if="new_user.role_name">
                        <label style="margin-right: 5px">First name*</label>
                        <input type="text" class="form-control" name="" ng-model='new_user.first_name' required>
                    </div>
                    <div class="form-group" style="padding: 1px" ng-if="new_user.role_name">
                        <label style="margin-right: 5px">Last name*</label>
                        <input type="text" class="form-control" name="" ng-model='new_user.last_name' required>
                    </div>
                    <div class="form-group" style="padding: 1px" ng-if="new_user.role_name">
                        <label style="margin-right: 5px">Birth date*</label>
                        <input name="" placeholder="MM/DD/YYY" type="date" ng-model='new_user.birth_date' required 
                        class="form-control">
                    </div>
                    <div class="form-group" style="padding: 1px" ng-if="new_user.role_name!='student' && new_user.role_name">
                        <label style="margin-right: 5px">Email*</p></label>
                        <input type="email" class="form-control" name="" ng-model='new_user.email' required>
                    </div>
                    <div class="form-group" style="padding: 1px" ng-if="new_user.role_name">
                        <label style="margin-right: 5px">Password*</p></label>
                        <input type="password" class="form-control" name="" ng-model='new_user.password' required>
                    </div>
                    <div class="form-group" style="padding: 1px" ng-if="new_user.role_name">
                        <label style="margin-right: 5px">Gender*</label>
                        <select class="form-control-sm" ng-model='new_user.gender' required>
                            <option value="">
                                Pick
                            </option>
                            <option value='0'>
                                Male
                            </option>
                            <option value='1'>
                                Female
                            </option>
                        </select>
                    </div>
                    <div class="form-group" style="padding: 1px" ng-if="new_user.role_name">
                        <label style="margin-right: 5px">Phone number</label>
                        <input type="text" class="form-control" name="" ng-model='new_user.phone_number'>
                    </div>
                    <div class="form-group" style="padding: 1px" ng-if="new_user.role_name">
                        <label style="margin-right: 5px">Address</label>
                        <input type="text" class="form-control" name="" ng-model='new_user.address'>
                    </div>
                    <div class="form-group" style="padding: 1px" ng-if="new_user.role_name">
                        <label style="margin-right: 5px">City</label>
                        <input type="text" class="form-control" name="" ng-model='new_user.city'>
                    </div>
                    <div class="form-group" style="padding: 1px" ng-if="new_user.role_name=='student' && new_user.role_name">
                        <label style="margin-right: 5px">Parent one*</label>
                        <input type="text" class="form-control" name="" ng-model="new_user.parent_one" required>
                    </div>
                    <div class="form-group" style="padding: 1px" ng-if="new_user.role_name=='student' && new_user.role_name">
                        <label style="margin-right: 5px">Parent two*</label>
                        <input type="text" class="form-control" name="" ng-model='new_user.parent_two' required>
                    </div>
                    <div class="form-check" ng-if="new_user.role_name">
                        <label class="form-check-label">
                        <input type="checkbox" class="form-check-input" ng-model='new_user.activated'>
                            Activated
                        </label>
                    </div>
                    <button type="submit" class="btn btn-secondary btn-sm not-focusable rounded-0" ng-if="new_user.role_name"
                    style="float: right;">Add</button>
                </form>
            </div>
            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" data-dismiss="modal" ng-click="restart_form()">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- End of Modal -->
<!-- The Modal edit user-->
<div class="modal fade" id="editModal">
    <div class="modal-dialog">
        <div class="modal-content rounded-0">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Edit user</h4>
                <button type="button" class="close not-focusable"
                 data-dismiss="modal" ng-click="restart_form()">&times;</button>
             </div>
             <!-- Modal body -->
             <div class="modal-body">
                <form ng-submit="editUser(user_obj)">
                    <div class="form-group" style="padding: 1px">
                        <label style="margin-right: 5px">First name*</label>
                        <input type="text" class="form-control" name="" ng-model='user_obj.first_name' required>
                    </div>
                    <div class="form-group" style="padding: 1px">
                        <label style="margin-right: 5px">Last name*</label>
                        <input type="text" class="form-control" name="" ng-model='user_obj.last_name' required 
                        >
                    </div>
                    <div class="form-group" style="padding: 1px">
                        <label style="margin-right: 5px">Birth date*</label>
                        <input name="" placeholder="MM/DD/YYY" type="date" ng-model='user_obj.edit_birth_date' required 
                        class="form-control" >
                    </div>
                    <div class="form-group" style="padding: 1px" ng-if="user_obj.role.role_name!='student'">
                        <label style="margin-right: 5px">Email*</p></label>
                        <input type="email" class="form-control" name="" ng-model='user_obj.email' required 
                        >
                    </div>
                    <div class="form-group" style="padding: 1px">
                        <label style="margin-right: 5px">Gender*</label>
                        <select class="form-control-sm" ng-model='user_obj.gender' required>
                            <option value='0' ng-if="user_obj.gender==0" selected>
                                Male
                            </option>
                            <option value='0' ng-if="user_obj.gender==1">
                                Male
                            </option>
                            <option value='1' ng-if="user_obj.gender==1" selected>
                                Female
                            </option>
                            <option value='1' ng-if="user_obj.gender==0">
                                Female
                            </option>
                        </select>
                    </div>
                    <div class="form-group" style="padding: 1px">
                        <label style="margin-right: 5px">Phone number</label>
                        <input type="text" class="form-control" name="" ng-model='user_obj.phone_number'>
                    </div>
                    <div class="form-group" style="padding: 1px">
                        <label style="margin-right: 5px">Address</label>
                        <input type="text" class="form-control" name="" ng-model='user_obj.address'>
                    </div>
                    <div class="form-group" style="padding: 1px">
                        <label style="margin-right: 5px">City</label>
                        <input type="text" class="form-control" name="" ng-model='user_obj.city'>
                    </div>
                    <div class="form-group" style="padding: 1px" ng-if="user_obj.role.role_name=='student'">
                        <label style="margin-right: 5px">Parent one*</label>
                        <input type="text" class="form-control" name="" ng-model="user_obj.parent_one" required 
                        value="user_obj.parent_one">
                    </div>
                    <div class="form-group" style="padding: 1px" ng-if="user_obj.role.role_name=='student'">
                        <label style="margin-right: 5px">Parent two*</label>
                        <input type="text" class="form-control" name="" ng-model='user_obj.parent_two' required 
                        value="user_obj.parent_two">
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                        <input type="checkbox" class="form-check-input" ng-model='user_obj.activated' value="user_obj.activated">
                            Activated
                        </label>
                    </div>
                    <button type="submit" class="btn btn-secondary btn-sm not-focusable rounded-0" style="float: right;">
                    Edit</button>
                </form>
            </div>
            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" data-dismiss="modal" ng-click="restart_form()">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- End of Modal -->
<!-- The Modal add school year-->
<div class="modal fade" id="addSchoolYearModal">
    <div class="modal-dialog">
        <div class="modal-content rounded-0">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Add new school year</h4>
                <button type="button" class="close not-focusable"
                 data-dismiss="modal" ng-click="restart_form()">&times;</button>
             </div>
             <!-- Modal body -->
             <div class="modal-body">
                <form ng-submit="addSchoolYear(new_school_year)">
                    <div class="form-group" style="padding: 1px">
                        <label style="margin-right: 5px">Start year*</label>
                        <input type="text" class="form-control" name="" ng-model='new_school_year.start' required>
                    </div>
                    <div class="form-group" style="padding: 1px">
                        <label style="margin-right: 5px">End year*</label>
                        <input type="text" class="form-control" name="" ng-model='new_school_year.end' required>
                    </div>
                    <button type="submit" class="btn btn-secondary btn-sm not-focusable rounded-0"
                    style="float: right;">Add</button>
                </form>
            </div>
            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" data-dismiss="modal" ng-click="restart_form()">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- End of Modal school year -->
<!-- The Modal add school subject-->
<div class="modal fade" id="addSchoolSubjectModal">
    <div class="modal-dialog">
        <div class="modal-content rounded-0">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Add new school subject</h4>
                <button type="button" class="close not-focusable"
                 data-dismiss="modal" ng-click="restart_form()">&times;</button>
             </div>
             <!-- Modal body -->
             <div class="modal-body">
                <form ng-submit="addSchoolSubject(new_subject)">
                    <label style="margin-right: 5px">Pick professor*</label>
                    <select class="form-control-sm" ng-model="new_subject.user_id" required>
                        <option ng-repeat="user in users" value="{{user.id}}">
                            {{user.first_name}} {{user.last_name}}
                        </option>
                    </select>
                    <div class="form-group" style="padding: 1px">
                        <label style="margin-right: 5px">Name of subject*</label>
                        <input type="text" class="form-control" name="" ng-model='new_subject.name' required>
                    </div>
                    <button type="submit" class="btn btn-secondary btn-sm not-focusable rounded-0"
                    style="float: right;">Add</button>
                </form>
            </div>
            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" data-dismiss="modal" ng-click="restart_form()">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- End of Modal school subject -->
<!-- The Modal change profile image-->
<div class="modal fade" id="changeProfileImageModal">
    <div class="modal-dialog">
        <div class="modal-content rounded-0">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Change profile image</h4>
                <button type="button" class="close not-focusable"
                 data-dismiss="modal" ng-click="restart_form()">&times;</button>
             </div>
             <!-- Modal body -->
             <div class="modal-body">
                <form  enctype="multipart/form-data" ng-submit="uploadFile(user_obj.id, myFile)">
                    <div class="form-group" style="padding: 1px">
                        <label for="usr">Add your photo:</label>
                        <input id='inputImage' type='file' class="form-control" name='image' file-model='myFile'>
                    </div>
                    <div class="form-group" style="padding: 1px">
                        <button type="submit" value="submit" class="btn btn-secondary btn-sm">Submit<br />
                    </div>
                </form>
            </div>
            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" data-dismiss="modal" ng-click="restart_form()">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- End of Modal school subject -->
<!-- The Modal add class-->
<div class="modal fade" id="addClassModal">
    <div class="modal-dialog">
        <div class="modal-content rounded-0">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Change profile image</h4>
                <button type="button" class="close not-focusable"
                 data-dismiss="modal" ng-click="restart_form()">&times;</button>
             </div>
             <!-- Modal body -->
             <div class="modal-body">
                <form ng-submit="addnewClass(school_year_id, new_class)">
                    <div class="form-group" style="padding: 1px">
                        <label style="margin-right: 5px">Pick professor*</label>
                        <select class="form-control-sm" ng-model="new_class.user_id" required>
                            <option ng-repeat="user in users" value="{{user.id}}">
                                {{user.first_name}} {{user.last_name}}
                            </option>
                        </select>
                    </div>
                    <div class="form-group" style="padding: 1px">
                        <label style="margin-right: 5px">Class name*</label>
                        <input type="text" class="form-control" name="" ng-model='new_class.name' required>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                        <input type="checkbox" class="form-check-input" ng-model='new_class.multiple_professors'>
                            Multiple professors?
                        </label>
                    </div>
                    <div class="form-group" style="padding: 1px">
                        <button type="submit" value="submit" class="btn btn-secondary btn-sm">Submit<br />
                    </div>
                </form>
            </div>
            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" data-dismiss="modal" ng-click="restart_form()">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- End of Modal add class -->
<!-- The Modal animate -->
<div class="modal fade" id="addModalSuccess">
    <div class="modal-dialog">
        <div class="modal-content rounded-0">
             <div class="modal-body alert alert-success">
                <div class="svg-box">
                <svg class="circular green-stroke">
                    <circle class="path" cx="75" cy="75" r="50" fill="none" stroke-width="5" stroke-miterlimit="10"/>
                </svg>
                <svg class="checkmark green-stroke">
                    <g transform="matrix(0.79961,8.65821e-32,8.39584e-32,0.79961,-489.57,-205.679)">
                        <path class="checkmark__check" fill="none" d="M616.306,283.025L634.087,300.805L673.361,261.53"/>
                    </g>
                </svg>
            </div>
            </div>
            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" data-dismiss="modal" ng-click="restart_form()">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- End of Modal animate -->
<!-- The Modal delete user -->
<div class="modal fade" id="deleteUserModel">
    <div class="modal-dialog">
        <div class="modal-content rounded-0">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Delete user</h4>
                <button type="button" class="close not-focusable"
                 data-dismiss="modal" ng-click="restart_form()">&times;</button>
             </div>
             <!-- Modal Body -->
             <div class="modal-body">
                 <h5>Are You sure You wan't delete this user?</h5>
                 <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" data-dismiss="modal" ng-click="restart_form()">No</button>
                 <button type="button" class="btn btn-danger btn-sm not-focusable rounded-0" data-dismiss="modal" ng-click="delete_user(user_obj.id)">Yes</button>
             </div>
            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" data-dismiss="modal" ng-click="restart_form()">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- End of Modal delete user -->
<!-- The Modal change password -->
<div class="modal fade" id="changePasswordModal">
    <div class="modal-dialog">
        <div class="modal-content rounded-0">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Change password</h4>
                <button type="button" class="close not-focusable"
                 data-dismiss="modal" ng-click="restart_form()">&times;</button>
             </div>
             <!-- Modal Body -->
             <div class="modal-body">
                 <form ng-submit="change_password(user_obj.id, new_obj)">
                    <div class="form-group" style="padding: 1px">
                        <label style="margin-right: 5px">Password*</label>
                        <input type="password" class="form-control" name="" ng-model='new_obj.password' required>
                    </div>
                    <div class="form-group" style="padding: 1px">
                        <label style="margin-right: 5px">Confirm password*</label>
                        <input type="password" class="form-control" name="" ng-model='new_obj.confirm_password' required>
                    </div>
                    <div class="form-group" style="padding: 1px">
                        <button type="submit" value="submit" class="btn btn-secondary btn-sm not-focusable rounded-0">Submit<br />
                    </div>
                </form>
             </div>
            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" data-dismiss="modal" ng-click="restart_form()">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- End of Modal change password -->
<!-- The Modal read grades -->
<div class="modal fade" id="readGradesModal">
    <div class="modal-dialog">
        <div class="modal-content rounded-0">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">{{grades.name}}</h4>
                <button type="button" class="close not-focusable"
                 data-dismiss="modal" ng-click="restart_form()">&times;</button>
             </div>
             <!-- Modal Body -->
             <div class="modal-body" style="height: 500px; overflow-y: scroll">
                <table class="table table-user-information table-striped">
                    <thead>
                        <th>
                            Date
                        </th>
                        <th>
                            Time
                        </th>
                        <th>
                            Grade
                        </th>
                        <th>
                            Comment
                        </th>
                    </thead>
                    <tbody>
                        <tr ng-repeat="grade in grades.grades">
                            <td>
                                {{grade.date}}
                            </td>
                            <td>
                                {{grade.time}}
                            </td>
                            <td>
                                {{grade.grade}}
                            </td>
                            <td>
                                {{grade.comment}}
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div id='profile_buttons'>
                    <div style="padding: 1px">
                        <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" data-toggle="modal" data-target="#addNewGradeModal">Add new grade</button>
                    </div>
                </div>
             </div>
            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" data-dismiss="modal" ng-click="restart_form()">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- End of Modal read grades -->
<!-- The Modal new absence -->
<div class="modal fade" id="addNewAbsenceModal">
    <div class="modal-dialog">
        <div class="modal-content rounded-0">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">{{grades.name}}</h4>
                <button type="button" class="close not-focusable"
                 data-dismiss="modal" ng-click="restart_form()">&times;</button>
             </div>
             <!-- Modal Body -->
             <div class="modal-body">
                <form ng-submit="add_absence(school_class_id, absence_obj, student_id)">
                    <label style="margin-right: 5px">Write comment</label>
                        <div class="form-group" style="padding: 1px">
                            <input type="text" class="form-control" name="" ng-model='absence_obj.comment'>
                        </div>
                        <div style="padding: 1px">
                            <button type="submit" class="btn btn-secondary btn-sm not-focusable rounded-0">Add absences</button>
                        </div>
                </form>
             </div>
            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" data-dismiss="modal" ng-click="restart_form()">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- End of Modal add new absence -->
<!-- The Modal new grade -->
<div class="modal fade" id="addNewGradeModal">
    <div class="modal-dialog">
        <div class="modal-content rounded-0">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">{{grades.name}}</h4>
                <button type="button" class="close not-focusable"
                 data-dismiss="modal" ng-click="restart_form()">&times;</button>
             </div>
             <!-- Modal Body -->
             <div class="modal-body">
                <div id='profile_buttons'>
                    <div style="padding: 1px">
                        <button type="button" class="btn btn-secondary btn-lg not-focusable rounded-0" ng-click="set_grade(1)" ng-if="picked_button == 0 || picked_button == 2 || picked_button == 3 || picked_button == 4 || picked_button == 5">1</button>

                        <button type="button" class="btn btn-primary btn-lg not-focusable rounded-0" ng-click="set_grade(1)"
                        ng-if="picked_button == 1">1</button>

                        <button type="button" class="btn btn-secondary btn-lg not-focusable rounded-0" ng-click="set_grade(2)" ng-if="picked_button == 0 || picked_button == 1 || picked_button == 3 || picked_button == 4 || picked_button == 5">2</button>

                        <button type="button" class="btn btn-primary btn-lg not-focusable rounded-0" ng-click="set_grade(2)"
                        ng-if="picked_button == 2">2</button>

                        <button type="button" class="btn btn-secondary btn-lg not-focusable rounded-0" ng-click="set_grade(3)" ng-if="picked_button == 0 || picked_button == 1 || picked_button == 2 || picked_button == 4 || picked_button == 5">3</button>

                        <button type="button" class="btn btn-primary btn-lg not-focusable rounded-0" ng-click="set_grade(3)"
                        ng-if="picked_button == 3">3</button>

                        <button type="button" class="btn btn-secondary btn-lg not-focusable rounded-0" ng-click="set_grade(4)" ng-if="picked_button == 0 || picked_button == 1 || picked_button == 2 || picked_button == 3 || picked_button == 5">4</button>

                        <button type="button" class="btn btn-primary btn-lg not-focusable rounded-0" ng-click="set_grade(4)"
                        ng-if="picked_button == 4">4</button>

                        <button type="button" class="btn btn-secondary btn-lg not-focusable rounded-0" ng-click="set_grade(5)" ng-if="picked_button == 0 || picked_button == 1 || picked_button == 2 || picked_button == 3 || picked_button == 4">5</button>

                        <button type="button" class="btn btn-primary btn-lg not-focusable rounded-0" ng-click="set_grade(5)"
                        ng-if="picked_button == 5">5</button>
                    </div>
                </div>
                <form ng-submit="add_new_grade(new_grade)">
                    <label style="margin-right: 5px">Write comment</label>
                        <div class="form-group" style="padding: 1px">
                            <input type="text" class="form-control" name="" ng-model='new_grade.comment'>
                        </div>
                        <div style="padding: 1px">
                            <button type="submit" class="btn btn-secondary btn-sm not-focusable rounded-0">Add grade</button>
                        </div>
                </form>
            </div>
            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-sm not-focusable rounded-0" data-dismiss="modal" ng-click="restart_form()">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- End of Modal add new grade -->


                    